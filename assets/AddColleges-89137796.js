import{u as f,r as i,b as t,F as k,j as e,B as x,L as w,a as m,e as v,R as y}from"./index-fe9762f0.js";import{D as N}from"./index-d5c65384.js";import{G as C}from"./GetUsersList-4ec3f128.js";const E=()=>{const p=f(),[b,o]=i.useState(!1),[s,l]=i.useState({name:"",principal:""}),[d,u]=i.useState({name:"",principal:""}),n=C(),c=a=>{l({name:"",principal:""});const{name:r,value:h}=a.target;u(g=>({...g,[r]:h}))};return t(k,{children:[e(x,{pageName:"Add Colleges"}),e("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-1",children:t("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e("h3",{className:"font-medium text-black dark:text-white",children:"Add College"})}),e("form",{action:"",onSubmit:async a=>{a.preventDefault(),o(!0);try{(await m.post(`${v}`,d,{...y()})).status===201&&(l({name:"",principal:""}),window.alert("Registered College "+d.name+" Successfully!"),p("/dashboard/colleges"))}catch(r){m.isAxiosError(r)&&r.response&&r.response.status===400&&l({name:r.response.data.name||"",principal:r.response.data.principal||""})}finally{o(!1)}},children:b?e(w,{}):t("div",{className:"p-6.5",children:[t("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"College Name"}),e("input",{type:"text",name:"name",placeholder:"Enter college name",onChange:c,className:"w-full rounded border-[1.5px] text-black dark:text-white border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary placeholder-gray-500 disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"}),s.name&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:s.name})]}),t("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Select Principal"}),t("div",{className:"relative z-20 bg-white dark:bg-form-input",children:[e("span",{className:"absolute top-1/2 left-4 z-30 -translate-y-1/2",children:N()}),t("select",{onChange:c,name:"principal",className:"relative z-20 text-black dark:text-white w-full appearance-none rounded border border-stroke bg-transparent py-3 px-12 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"",children:"select"}),n==null?void 0:n.map(a=>t("option",{value:a.username,children:[a.username," (",a.email,")"]},a.id))]}),e("span",{className:"absolute top-1/2 right-4 z-10 -translate-y-1/2",children:e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e("g",{opacity:"0.8",children:e("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29289 8.29289C5.68342 7.90237 6.31658 7.90237 6.70711 8.29289L12 13.5858L17.2929 8.29289C17.6834 7.90237 18.3166 7.90237 18.7071 8.29289C19.0976 8.68342 19.0976 9.31658 18.7071 9.70711L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L5.29289 9.70711C4.90237 9.31658 4.90237 8.68342 5.29289 8.29289Z",fill:"#637381"})})})}),s.principal&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:s.principal})]})]}),e("button",{type:"submit",className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-white",children:"Add"})]})})]})})]})};export{E as default};
