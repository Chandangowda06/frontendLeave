import{r as m,u as h,b as s,F as w,j as e,B as g,L as y,a as u,k as N,R as v}from"./index-9818a022.js";function R(){const[a,i]=m.useState({username:"",email:"",password:"",password2:"",errorMessage:""}),[b,c]=m.useState(!1),k=h(),[t,p]=m.useState({username:"",email:"",password:"",password2:""}),l=()=>t.email!==void 0&&t.username!==void 0&&t.password2!==void 0&&t.password!==void 0&&Object.values(a).every(d=>d===""),o=d=>{i({username:"",email:"",password:"",password2:"",errorMessage:""});const{name:r,value:n}=d.target;p(x=>({...x,[r]:n})),l()},f=async d=>{d.preventDefault(),c(!0);try{const r=await u.post(`${N}`,t,{...v()});r.status===201&&(i({username:"",email:"",password:"",password2:"",errorMessage:""}),k(`/dashboard/create-profile/${r.data.username}`))}catch(r){u.isAxiosError(r)&&r.response&&(r.response.status===400?(i({username:r.response.data.username||"",email:r.response.data.email||"",password:r.response.data.password||"",password2:r.response.data.password2||"",errorMessage:r.response.data.error||""}),p(n=>({...n}))):console.error("An error occurred:",r.message))}finally{c(!1)}};return s(w,{children:[e(g,{pageName:"RegisterUsers"}),b?e(y,{}):e("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-1",children:s("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:s("h3",{className:"font-medium text-black dark:text-white",children:["Registration Form",a.errorMessage&&e("span",{style:{color:"red"},className:"flex items-center font-medium pt-5  tracking-wide text-red-500 text-xs mt-1 ml-1",children:a.errorMessage})]})}),e("form",{action:"",onSubmit:f,children:s("div",{className:"p-6.5",children:[s("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Username"}),e("input",{type:"text",name:"username",onChange:o,placeholder:"Enter username",className:"w-full text-black dark:text-white placeholder-gray-500 rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),a.username&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:a.username})]}),s("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Email"}),e("input",{type:"email",name:"email",onChange:o,placeholder:"Enter email address",className:"w-full text-black dark:text-white placeholder-gray-500 rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),a.email&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:a.email})]}),s("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Password"}),e("input",{type:"password",name:"password",onChange:o,placeholder:"Enter password",className:"w-full text-black dark:text-white placeholder-gray-500 rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),a.password&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:a.password})]}),s("div",{className:"mb-5.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Re-type Password"}),e("input",{type:"password",name:"password2",onChange:o,placeholder:"Re-enter password",className:"w-full text-black dark:text-white placeholder-gray-500 rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),a.password2&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:a.password2})]}),e("button",{className:l()?"flex w-full justify-center rounded bg-primary p-3 font-medium text-white":"flex w-full justify-center rounded bg-primary p-3 font-medium text-white opacity-50 cursor-not-allowed",disabled:!l(),children:"Next"})]})})]})})]})}export{R as default};
