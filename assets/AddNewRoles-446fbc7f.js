import{u as x,r as n,b as t,F as y,j as e,B as v,L as N,a as p,g as w,R as A}from"./index-9818a022.js";import{D as S}from"./index-eb927990.js";import{G as D}from"./GetRolesList-3ce8c886.js";const C=()=>{const u=x(),d=["CEO","Director","AO","Principal","CFO","HOD","Teaching","Non-teaching","Institution-staff","Admin"];D();const[b,i]=n.useState(!1),[o,l]=n.useState({name:"",role_type:""}),[s,c]=n.useState({name:"",role_type:""}),[h,f]=n.useState(),m=a=>{l({name:"",role_type:""});const{name:r,value:k}=a.target;c(g=>({...g,[r]:k}))};return t(y,{children:[e(v,{pageName:"Add Roles"}),e("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-1",children:t("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e("h3",{className:"font-medium text-black dark:text-white",children:"Add Roles"})}),b?e(N,{}):e("form",{action:"",onSubmit:async a=>{a.preventDefault(),i(!0),f(s),console.log(s);try{const r=await p.post(`${w}`,s,{...A()});console.log(r),r.status===201&&(l({name:"",role_type:""}),window.alert("Added"+s.name+"Role Successfully!"),u("/dashboard/roles"))}catch(r){p.isAxiosError(r)&&r.response?r.response.status===400?(c(h),l({name:r.response.data.name||"",role_type:r.response.data.role_type||""})):console.error("An error occurred:",r.message):console.error("An unexpected error occurred:",r)}finally{i(!1)}},children:t("div",{className:"p-6.5",children:[t("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Role Name"}),e("input",{type:"text",name:"name",placeholder:"Enter name",onChange:m,className:"w-full text-black dark:text-white placeholder-gray-500 rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"}),o.name&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:o.name})]}),t("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Select type"}),t("div",{className:"relative z-20 bg-white dark:bg-form-input",children:[e("span",{className:"absolute top-1/2 left-4 z-30 -translate-y-1/2",children:S()}),t("select",{onChange:m,name:"role_type",className:"relative z-20 text-black dark:text-white w-full appearance-none rounded border border-stroke bg-transparent py-3 px-12 outline-none transition focus:border-primary active:border-primary dark:border-form-strokedark dark:bg-form-input",children:[e("option",{value:"",children:"select"}),d==null?void 0:d.map(a=>e("option",{value:a,children:a},a))]}),o.role_type&&e("span",{style:{color:"red"},className:"flex items-center font-medium  tracking-wide text-red-500 text-xs mt-1 ml-1",children:o.role_type})]}),e("button",{type:"submit",className:"mt-4 flex w-full justify-center rounded bg-primary p-3 font-medium text-white",children:"Add"})]})]})})]})})]})};export{C as default};
