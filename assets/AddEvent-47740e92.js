import{u as h,r as n,b as a,F as x,j as e,B as g,L as y,a as u,c as w,R as N}from"./index-9818a022.js";const _=()=>{const p=h(),[k,l]=n.useState(!1),[c,m]=n.useState({title:"",description:"",category:"",start_date:"",end_date:"",document:null}),[t,b]=n.useState({title:"",description:"",category:"",start_date:"",end_date:"",document:"",author:""}),d=o=>{const{name:r,value:s}=o.target;m(i=>({...i,[r]:s}))},f=o=>{var s;const r=(s=o.target.files)==null?void 0:s[0];(r==null?void 0:r.size)!==void 0&&r.size<5*1024*1024?m(i=>({...i,document:r})):b({...t,document:"File size should be less than 5MB"})};return a(x,{children:[e(g,{pageName:"Create Event"}),e("div",{className:"grid grid-cols-1 gap-9 sm:grid-cols-1",children:a("div",{className:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark",children:[e("div",{className:"border-b border-stroke py-4 px-6.5 dark:border-strokedark",children:e("h3",{className:"font-medium text-black dark:text-white",children:"Create Event"})}),e("form",{onSubmit:async o=>{o.preventDefault(),l(!0);try{(await u.post(w,c,{...N()})).status===201&&(window.alert("Added Event "+c.title+" Successfully!"),p("/dashboard/events"))}catch(r){u.isAxiosError(r)&&r.response?r.response.status===400?b({title:r.response.data.title||"",description:r.response.data.description||"",document:r.response.data.document||"",category:r.response.data.category||"",start_date:r.response.data.start_date||"",end_date:r.response.data.end_date||""}):console.error("An error occurred:",r.message):console.error("An unexpected error occurred:",r)}finally{l(!1)}},children:k?e(y,{}):a("div",{className:"p-6.5",children:[a("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Title"}),e("input",{type:"text",name:"title",onChange:d,placeholder:"Enter Event Title",className:"w-full text-black dark:text-white rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary placeholder-gray-500 active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),t.title&&e("span",{className:"flex items-center font-medium text-red tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.title})]}),a("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Category"}),e("input",{type:"text",name:"category",onChange:d,placeholder:"Enter Event Category",className:"w-full text-black dark:text-white rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary placeholder-gray-500 active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),t.category&&e("span",{className:"flex items-center font-medium text-red tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.category})]}),a("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 block text-black dark:text-white",children:"Start Date"}),e("input",{type:"date",name:"start_date",onChange:d,placeholder:"Enter Event Start Date",className:"w-full text-black dark:text-white rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary placeholder-gray-500 active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),t.start_date&&e("span",{className:"flex items-center font-medium text-red tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.start_date})]}),a("div",{className:"mb-4.5",children:[e("label",{className:"mb-2.5 text-black dark:text-white block text-black dark:text-white",children:"End Date"}),e("input",{type:"date",name:"end_date",onChange:d,placeholder:"Enter Event End Date",className:"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary placeholder-gray-500 active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary",required:!0}),t.end_date&&e("span",{className:"flex items-center font-medium text-red tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.end_date})]}),a("div",{className:"mb-4.5",children:[e("label",{className:"mb-3 block text-black dark:text-white",children:"Description"}),e("textarea",{name:"description",rows:10,onChange:d,className:"block p-2.5 text-black dark:text-white w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 placeholder-gray-500 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Write your description here..."}),t.description&&e("span",{className:"flex items-center font-medium text-red tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.description})]}),a("div",{className:"mb-4.5",children:[e("label",{className:"mb-3 block text-black dark:text-white",children:"Attach Document / Photo *"}),e("input",{name:"document",type:"file",onChange:f,className:"w-full text-black dark:text-white cursor-pointer rounded-lg border-[1.5px] border-stroke bg-transparent font-medium outline-none transition file:mr-5 file:border-collapse file:cursor-pointer file:border-0 file:border-r file:border-solid file:border-stroke file:bg-whiter file:py-3 file:px-5 file:hover:bg-primary file:hover:bg-opacity-10 focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:file:border-form-strokedark dark:file:bg-white/30 dark:file:text-white dark:focus:border-primary"}),t.document&&e("span",{className:"flex items-center font-medium text-red tracking-wide text-red-500 text-xs mt-1 ml-1",children:t.document})]}),e("button",{type:"submit",className:"flex w-full justify-center rounded bg-primary p-3 font-medium text-white",children:"Finish"})]})})]})})]})};export{_ as default};
